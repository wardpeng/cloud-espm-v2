<mvc:View controllerName="com.sap.espm.shop.controller.Line" xmlns="sap.m"
	xmlns:viz="sap.viz.ui5.controls" xmlns:layout="sap.ui.layout"
	xmlns:mvc="sap.ui.core.mvc" xmlns:viz.feeds="sap.viz.ui5.controls.common.feeds"
	xmlns:viz.data="sap.viz.ui5.data" height="100%">
	<layout:FixFlex id='chartFixFlex' minFlexSize="250">
		<!--Below is the setting panel -->
		<layout:fixContent>
			<Panel id='settingsPanel' class="panelStyle" expandable="true" expanded="true" headerText="LED" width="auto">
				<content>
					<HBox class='settingsHBox'>
						<VBox class='settingsBox'>
							<Label text = '{/switch/name}' design="Bold" class='settingsLabel'></Label>
							<Switch class='settingsSwitch' state="{/switch/defaultState}" change='onSwitchChanged'>
								<layoutData>
									<FlexItemData growFactor="1" />
								</layoutData>
							</Switch>
						</VBox>
					</HBox>
				</content>
			</Panel>
		</layout:fixContent>
		<layout:flexContent>
			<viz:Popover id="idPopOver"></viz:Popover>
			<viz:VizFrame id="idVizFrame" uiConfig="{applicationSet:'fiori'}"
				height='100%' width="100%" vizType='line'>
				<viz:dataset>
					<viz.data:FlattenedDataset data="{IotModel>/Measurements}">
						<viz.data:dimensions>
							<viz.data:DimensionDefinition name="Week"
								value="{path: 'CreateTime',  formatter:'.formatter.formatDate' }" />
						</viz.data:dimensions>
						<viz.data:measures>
							<viz.data:MeasureDefinition name="Temperature"
								value="{Value1}" />
							<viz.data:MeasureDefinition name="Huminity"
								value="{Value2}" />
						</viz.data:measures>
					</viz.data:FlattenedDataset>
				</viz:dataset>

				<viz:feeds>
					<viz.feeds:FeedItem id='valueAxisFeed' uid="valueAxis"
						type="Measure" values="Temperature" />
					<viz.feeds:FeedItem id='valueAxisFeed1' uid="valueAxis"
						type="Measure" values="Huminity" />
					<viz.feeds:FeedItem id='categoryAxisFeed' uid="categoryAxis"
						type="Dimension" values="Week" />
				</viz:feeds>
			</viz:VizFrame>
		</layout:flexContent>
	</layout:FixFlex>
</mvc:View>